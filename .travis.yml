---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox --parallel all && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "MqCCz5Vj2MocnK15n1QGknYSR8Uu9rFsFu8Nm2vtA7k1XtkHT3JOBfxrYGvpzeiBWmNvzl+kbRGST1D0fgN2Z7CmnRX809E6DAFXZAfd02pEIa2b0i56v5FcwtGT3lFrnuKcOURCQyhHN0yQ/BNerq+NuVFIeDRhSAFf4HOFwzq7rimSNrKtyAXWucBByMJpBZlqXpLmyUmOmY0HSz8MyTbQBqoYyjx3xeHhxJKDCETFfgQVFSAo3X9z93ULOp0YwKD8n7TQsvvmLOGC8esIDD7n3lMHrORUDIFF8UT+UnbzFVf9sp3cqI7cOheEjvte3puBBsQl7ES8YdqR8V3kpBgROLV/2iojNoLqM4zfsvEaPfTJTaS6bcOb1aZ+JzqmLXq8vJ6uID8xL0z61Lc/5DiepUlzYVIk6a7WrkhlQnArv6D3Z3oqbrDCT1FzljmtHvenQxaT/wStPsKA5cTEsB3MNK/zniZKE2u6DiNPXPR3ldXoHlr4RpQcXRktBzEjVXU1sWChVoWTtditX9tw5llwznrdF3bwOPPJQ1B0oQNkjlupZf8IRZ5HilFEFV1gI3VBJxnn+yAJasVMAaWq/zy8LIVRDDylB8mGo1X/+9Mfr4coHxQJ4UxWmfh2x8KNrD9n3epsfMrl0C3aXdMmUjZ+c0QgbE300KRvBA/Unk4="
  email: false
